{"ast":null,"code":"import{supabase}from'./supabase';const roleEmails={INWARD_CLERK:process.env.REACT_APP_INWARD_CLERK_EMAIL,QUALITY_CHECKER:process.env.REACT_APP_QUALITY_CHECKER_EMAIL,APPROVER:process.env.REACT_APP_APPROVER_EMAIL,SUPERADMIN:process.env.REACT_APP_SUPERADMIN_EMAIL};export async function login(email,password){return supabase.auth.signInWithPassword({email,password});}export async function logout(){return supabase.auth.signOut();}export function getCurrentUser(){return supabase.auth.getUser();}export function getUserRole(email){for(const[role,roleEmail]of Object.entries(roleEmails)){if(roleEmail&&email.toLowerCase()===roleEmail.toLowerCase()){return role;}}return null;}","map":{"version":3,"names":["supabase","roleEmails","INWARD_CLERK","process","env","REACT_APP_INWARD_CLERK_EMAIL","QUALITY_CHECKER","REACT_APP_QUALITY_CHECKER_EMAIL","APPROVER","REACT_APP_APPROVER_EMAIL","SUPERADMIN","REACT_APP_SUPERADMIN_EMAIL","login","email","password","auth","signInWithPassword","logout","signOut","getCurrentUser","getUser","getUserRole","role","roleEmail","Object","entries","toLowerCase"],"sources":["/Users/samaysalunke/Documents/everything-hobby/kwabey-fab-check/src/services/auth.service.ts"],"sourcesContent":["import { supabase } from './supabase';\n\nconst roleEmails = {\n  INWARD_CLERK: process.env.REACT_APP_INWARD_CLERK_EMAIL,\n  QUALITY_CHECKER: process.env.REACT_APP_QUALITY_CHECKER_EMAIL,\n  APPROVER: process.env.REACT_APP_APPROVER_EMAIL,\n  SUPERADMIN: process.env.REACT_APP_SUPERADMIN_EMAIL,\n};\n\nexport async function login(email: string, password: string) {\n  return supabase.auth.signInWithPassword({ email, password });\n}\n\nexport async function logout() {\n  return supabase.auth.signOut();\n}\n\nexport function getCurrentUser() {\n  return supabase.auth.getUser();\n}\n\nexport function getUserRole(email: string): string | null {\n  for (const [role, roleEmail] of Object.entries(roleEmails)) {\n    if (roleEmail && email.toLowerCase() === roleEmail.toLowerCase()) {\n      return role;\n    }\n  }\n  return null;\n} "],"mappings":"AAAA,OAASA,QAAQ,KAAQ,YAAY,CAErC,KAAM,CAAAC,UAAU,CAAG,CACjBC,YAAY,CAAEC,OAAO,CAACC,GAAG,CAACC,4BAA4B,CACtDC,eAAe,CAAEH,OAAO,CAACC,GAAG,CAACG,+BAA+B,CAC5DC,QAAQ,CAAEL,OAAO,CAACC,GAAG,CAACK,wBAAwB,CAC9CC,UAAU,CAAEP,OAAO,CAACC,GAAG,CAACO,0BAC1B,CAAC,CAED,MAAO,eAAe,CAAAC,KAAKA,CAACC,KAAa,CAAEC,QAAgB,CAAE,CAC3D,MAAO,CAAAd,QAAQ,CAACe,IAAI,CAACC,kBAAkB,CAAC,CAAEH,KAAK,CAAEC,QAAS,CAAC,CAAC,CAC9D,CAEA,MAAO,eAAe,CAAAG,MAAMA,CAAA,CAAG,CAC7B,MAAO,CAAAjB,QAAQ,CAACe,IAAI,CAACG,OAAO,CAAC,CAAC,CAChC,CAEA,MAAO,SAAS,CAAAC,cAAcA,CAAA,CAAG,CAC/B,MAAO,CAAAnB,QAAQ,CAACe,IAAI,CAACK,OAAO,CAAC,CAAC,CAChC,CAEA,MAAO,SAAS,CAAAC,WAAWA,CAACR,KAAa,CAAiB,CACxD,IAAK,KAAM,CAACS,IAAI,CAAEC,SAAS,CAAC,EAAI,CAAAC,MAAM,CAACC,OAAO,CAACxB,UAAU,CAAC,CAAE,CAC1D,GAAIsB,SAAS,EAAIV,KAAK,CAACa,WAAW,CAAC,CAAC,GAAKH,SAAS,CAACG,WAAW,CAAC,CAAC,CAAE,CAChE,MAAO,CAAAJ,IAAI,CACb,CACF,CACA,MAAO,KAAI,CACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}