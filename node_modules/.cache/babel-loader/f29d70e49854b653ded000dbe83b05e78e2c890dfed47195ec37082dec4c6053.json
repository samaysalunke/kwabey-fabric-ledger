{"ast":null,"code":"var _jsxFileName = \"/Users/samaysalunke/Documents/everything-hobby/kwabey-fab-check/src/components/modules/approval/ApprovalList.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { getFabricEntries } from '../../../services/fabric.service';\nimport { useApp } from '../../../contexts/AppContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ApprovalList = ({\n  selectedEntryId,\n  onSelectEntry,\n  refreshTrigger\n}) => {\n  _s();\n  const [fabricEntries, setFabricEntries] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const {\n    addNotification\n  } = useApp();\n  useEffect(() => {\n    fetchPendingEntries();\n  }, [refreshTrigger]);\n  const fetchPendingEntries = async () => {\n    try {\n      setLoading(true);\n      const {\n        data,\n        error\n      } = await getFabricEntries({\n        status: 'QUALITY_CHECKED'\n      });\n      if (error) {\n        throw new Error(error.message);\n      }\n      setFabricEntries(data || []);\n    } catch (error) {\n      addNotification({\n        type: 'error',\n        message: error instanceof Error ? error.message : 'Failed to fetch fabric entries'\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow rounded-lg p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-medium text-gray-900 mb-4\",\n        children: \"Pending Approval\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-pulse space-y-4\",\n        children: [1, 2, 3].map(i => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-20 bg-gray-200 rounded\"\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white shadow rounded-lg p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-lg font-medium text-gray-900 mb-4\",\n      children: [\"Pending Approval (\", fabricEntries.length, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), fabricEntries.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        className: \"mx-auto h-12 w-12 text-gray-400\",\n        fill: \"none\",\n        stroke: \"currentColor\",\n        viewBox: \"0 0 24 24\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\",\n          strokeWidth: 2,\n          d: \"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"mt-2 text-sm font-medium text-gray-900\",\n        children: \"No entries pending approval\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-1 text-sm text-gray-500\",\n        children: \"All fabric entries have been processed or none have passed quality check yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-3 max-h-96 overflow-y-auto\",\n      children: fabricEntries.map(entry => /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => onSelectEntry(entry.id),\n        className: `p-4 border rounded-lg cursor-pointer transition-colors ${selectedEntryId === entry.id ? 'border-green-500 bg-green-50' : 'border-gray-200 hover:border-gray-300 hover:bg-gray-50'}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-start\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-sm font-medium text-gray-900\",\n              children: entry.seller_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: [\"PO: \", entry.po_number]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-1 flex items-center space-x-4 text-xs text-gray-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [entry.quantity_value, \" \", entry.quantity_unit]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: entry.fabric_type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: entry.color\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-right\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500\",\n              children: new Date(entry.date_inwarded).toLocaleDateString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800\",\n              children: \"Quality Checked\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 15\n        }, this)\n      }, entry.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s(ApprovalList, \"pNolfKwDQsbwl9GiV2b0HDofDHs=\", false, function () {\n  return [useApp];\n});\n_c = ApprovalList;\nexport default ApprovalList;\nvar _c;\n$RefreshReg$(_c, \"ApprovalList\");","map":{"version":3,"names":["React","useState","useEffect","getFabricEntries","useApp","jsxDEV","_jsxDEV","ApprovalList","selectedEntryId","onSelectEntry","refreshTrigger","_s","fabricEntries","setFabricEntries","loading","setLoading","addNotification","fetchPendingEntries","data","error","status","Error","message","type","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","i","length","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","entry","onClick","id","seller_name","po_number","quantity_value","quantity_unit","fabric_type","color","Date","date_inwarded","toLocaleDateString","_c","$RefreshReg$"],"sources":["/Users/samaysalunke/Documents/everything-hobby/kwabey-fab-check/src/components/modules/approval/ApprovalList.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getFabricEntries } from '../../../services/fabric.service';\nimport { FabricEntry } from '../../../utils/types';\nimport { useApp } from '../../../contexts/AppContext';\n\ninterface ApprovalListProps {\n  selectedEntryId: string | null;\n  onSelectEntry: (id: string) => void;\n  refreshTrigger: number;\n}\n\nconst ApprovalList: React.FC<ApprovalListProps> = ({\n  selectedEntryId,\n  onSelectEntry,\n  refreshTrigger,\n}) => {\n  const [fabricEntries, setFabricEntries] = useState<FabricEntry[]>([]);\n  const [loading, setLoading] = useState(true);\n  const { addNotification } = useApp();\n\n  useEffect(() => {\n    fetchPendingEntries();\n  }, [refreshTrigger]);\n\n  const fetchPendingEntries = async () => {\n    try {\n      setLoading(true);\n      const { data, error } = await getFabricEntries({ status: 'QUALITY_CHECKED' });\n      \n      if (error) {\n        throw new Error(error.message);\n      }\n\n      setFabricEntries(data || []);\n    } catch (error) {\n      addNotification({\n        type: 'error',\n        message: error instanceof Error ? error.message : 'Failed to fetch fabric entries',\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"bg-white shadow rounded-lg p-6\">\n        <h2 className=\"text-lg font-medium text-gray-900 mb-4\">Pending Approval</h2>\n        <div className=\"animate-pulse space-y-4\">\n          {[1, 2, 3].map((i) => (\n            <div key={i} className=\"h-20 bg-gray-200 rounded\"></div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white shadow rounded-lg p-6\">\n      <h2 className=\"text-lg font-medium text-gray-900 mb-4\">\n        Pending Approval ({fabricEntries.length})\n      </h2>\n\n      {fabricEntries.length === 0 ? (\n        <div className=\"text-center py-8\">\n          <svg className=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No entries pending approval</h3>\n          <p className=\"mt-1 text-sm text-gray-500\">\n            All fabric entries have been processed or none have passed quality check yet.\n          </p>\n        </div>\n      ) : (\n        <div className=\"space-y-3 max-h-96 overflow-y-auto\">\n          {fabricEntries.map((entry) => (\n            <div\n              key={entry.id}\n              onClick={() => onSelectEntry(entry.id)}\n              className={`p-4 border rounded-lg cursor-pointer transition-colors ${\n                selectedEntryId === entry.id\n                  ? 'border-green-500 bg-green-50'\n                  : 'border-gray-200 hover:border-gray-300 hover:bg-gray-50'\n              }`}\n            >\n              <div className=\"flex justify-between items-start\">\n                <div className=\"flex-1\">\n                  <h3 className=\"text-sm font-medium text-gray-900\">\n                    {entry.seller_name}\n                  </h3>\n                  <p className=\"text-sm text-gray-500\">\n                    PO: {entry.po_number}\n                  </p>\n                  <div className=\"mt-1 flex items-center space-x-4 text-xs text-gray-500\">\n                    <span>{entry.quantity_value} {entry.quantity_unit}</span>\n                    <span>{entry.fabric_type}</span>\n                    <span>{entry.color}</span>\n                  </div>\n                </div>\n                <div className=\"text-right\">\n                  <p className=\"text-xs text-gray-500\">\n                    {new Date(entry.date_inwarded).toLocaleDateString()}\n                  </p>\n                  <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n                    Quality Checked\n                  </span>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ApprovalList; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}